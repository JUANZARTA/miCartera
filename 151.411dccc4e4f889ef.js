"use strict";(self.webpackChunkmiCartera=self.webpackChunkmiCartera||[]).push([[151],{3151:(V,f,d)=>{d.r(f),d.d(f,{default:()=>H});var c=d(177),u=d(5601),t=d(4438),m=d(3062),p=d(4796);function b(o,s){if(1&o&&(t.j41(0,"span",15),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.SpI(" ",e.unreadCount," ")}}function g(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",25),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.markAllAsRead())}),t.EFF(1," Marcar todas como le\xeddas "),t.k0s()}}function _(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",26),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.deleteAllNotifications())}),t.EFF(1," Eliminar todas "),t.k0s()}}function k(o,s){1&o&&(t.j41(0,"div",27),t.nrm(1,"div",28),t.j41(2,"p",29),t.EFF(3,"Cargando notificaciones..."),t.k0s()())}function v(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",31)(1,"div",32)(2,"div",33),t.bIt("click",function(){const i=t.eBV(e).$implicit,a=t.XpG(3);return t.Njj(a.markAsRead(i.id))}),t.j41(3,"p",34),t.EFF(4),t.k0s(),t.j41(5,"p",35),t.EFF(6),t.nI1(7,"date"),t.k0s()(),t.j41(8,"button",36),t.bIt("click",function(){const i=t.eBV(e).$implicit,a=t.XpG(3);return t.Njj(a.deleteNotification(i.id))}),t.j41(9,"span",37),t.EFF(10,"close"),t.k0s()()()()}if(2&o){const e=s.$implicit;t.R7$(3),t.AVh("font-semibold",!e.leido),t.R7$(),t.SpI(" ",e.mensaje," "),t.R7$(2),t.SpI(" ",t.i5U(7,4,e.fecha,"short")," ")}}function x(o,s){if(1&o&&(t.j41(0,"div"),t.DNE(1,v,11,7,"div",30),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.notifications)}}function w(o,s){1&o&&(t.j41(0,"div",38),t.EFF(1," Sin notificaciones "),t.k0s())}function j(o,s){if(1&o&&(t.j41(0,"div",16)(1,"div",17)(2,"h3",18),t.EFF(3,"Notificaciones"),t.k0s(),t.j41(4,"div",19),t.DNE(5,g,2,0,"button",20)(6,_,2,0,"button",21),t.k0s()(),t.DNE(7,k,4,0,"div",22)(8,x,2,1,"div",23)(9,w,2,0,"div",24),t.k0s()),2&o){const e=t.XpG();t.R7$(5),t.Y8G("ngIf",e.unreadCount>0),t.R7$(),t.Y8G("ngIf",e.notifications.length>0),t.R7$(),t.Y8G("ngIf",e.isLoadingNotifications),t.R7$(),t.Y8G("ngIf",!e.isLoadingNotifications&&e.notifications.length>0),t.R7$(),t.Y8G("ngIf",!e.isLoadingNotifications&&0===e.notifications.length)}}function F(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",47),t.bIt("click",function(){const i=t.eBV(e).$implicit,a=t.XpG(3);return t.Njj(a.selectYear(i))}),t.EFF(1),t.k0s()}if(2&o){const e=s.$implicit;t.R7$(),t.SpI(" ",e," ")}}function y(o,s){if(1&o&&(t.j41(0,"div",45),t.DNE(1,F,2,1,"button",46),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.years)}}function M(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){const i=t.eBV(e).index,a=t.XpG(3);return t.Njj(a.selectMonth(i))}),t.EFF(1),t.k0s()}if(2&o){const e=s.$implicit,n=s.index,i=t.XpG(3);t.AVh("bg-sky-500",n===i.selectedMonth)("text-sky-700",n===i.selectedMonth),t.R7$(),t.SpI(" ",e," ")}}function S(o,s){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"div",48)(2,"button",49),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.clearYearSelection())}),t.EFF(3),t.k0s()(),t.j41(4,"div",50),t.DNE(5,M,2,5,"button",51),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(3),t.SpI(" Cambiar A\xf1o (",e.selectedYear,") "),t.R7$(2),t.Y8G("ngForOf",e.months)}}function C(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",39)(1,"div",40)(2,"h2",41),t.EFF(3),t.k0s(),t.DNE(4,y,2,1,"div",42)(5,S,6,2,"div",23),t.j41(6,"div",43)(7,"button",44),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeMonthModal())}),t.EFF(8," Cerrar "),t.k0s()()()()}if(2&o){const e=t.XpG();t.R7$(3),t.SpI(" ",e.selectedYear?"Selecciona un Mes":"Selecciona un A\xf1o"," "),t.R7$(),t.Y8G("ngIf",!e.selectedYear),t.R7$(),t.Y8G("ngIf",e.selectedYear)}}function E(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",39)(1,"div",53)(2,"div",48)(3,"div",54)(4,"span",55),t.EFF(5,"mark_email_read"),t.k0s()()(),t.j41(6,"h3",56),t.EFF(7,"Marcar como Le\xeddas"),t.k0s(),t.j41(8,"p",57),t.EFF(9," \xbfEst\xe1s seguro de que quieres marcar todas las notificaciones como le\xeddas? "),t.nrm(10,"br")(11,"br"),t.j41(12,"span",58),t.EFF(13),t.k0s()(),t.j41(14,"div",59)(15,"button",60),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeMarkAllReadModal())}),t.EFF(16," Cancelar "),t.k0s(),t.j41(17,"button",61),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.confirmMarkAllAsRead())}),t.EFF(18," Confirmar "),t.k0s()()()()}if(2&o){const e=t.XpG();t.R7$(13),t.SpI(" \u2022 Notificaciones no le\xeddas: ",e.unreadNotificationsCount," ")}}function I(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",39)(1,"div",62)(2,"div",48)(3,"div",63)(4,"span",64),t.EFF(5,"delete_sweep"),t.k0s()()(),t.j41(6,"h3",56),t.EFF(7,"Eliminar Todas"),t.k0s(),t.j41(8,"p",57),t.EFF(9," \xbfEst\xe1s seguro de que quieres eliminar todas las notificaciones? "),t.nrm(10,"br")(11,"br"),t.j41(12,"span",65),t.EFF(13),t.nrm(14,"br"),t.EFF(15),t.k0s(),t.nrm(16,"br")(17,"br"),t.j41(18,"span",66),t.EFF(19,"Esta acci\xf3n no se puede deshacer."),t.k0s()(),t.j41(20,"div",59)(21,"button",60),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeDeleteAllModal())}),t.EFF(22," Cancelar "),t.k0s(),t.j41(23,"button",67),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.confirmDeleteAllNotifications())}),t.EFF(24," Eliminar Todas "),t.k0s()()()()}if(2&o){const e=t.XpG();t.R7$(13),t.SpI(" \u2022 Total de notificaciones: ",e.totalNotificationsCount,""),t.R7$(2),t.SpI(" \u2022 No le\xeddas: ",e.unreadNotificationsCount," ")}}function N(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",39)(1,"div",68)(2,"div",48)(3,"div",69)(4,"span",70),t.EFF(5,"delete"),t.k0s()()(),t.j41(6,"h3",56),t.EFF(7,"Eliminar Notificaci\xf3n"),t.k0s(),t.j41(8,"p",57),t.EFF(9," \xbfEst\xe1s seguro de que quieres eliminar esta notificaci\xf3n? "),t.nrm(10,"br")(11,"br"),t.j41(12,"span",71),t.EFF(13),t.k0s(),t.nrm(14,"br")(15,"br"),t.j41(16,"span",66),t.EFF(17,"Esta acci\xf3n no se puede deshacer."),t.k0s()(),t.j41(18,"div",59)(19,"button",60),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeDeleteSingleModal())}),t.EFF(20," Cancelar "),t.k0s(),t.j41(21,"button",72),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.confirmDeleteSingleNotification())}),t.EFF(22," Eliminar "),t.k0s()()()()}if(2&o){const e=t.XpG();t.R7$(13),t.SpI(' "',null==e.notificationToDelete?null:e.notificationToDelete.mensaje,'" ')}}let R=(()=>{class o{get unreadNotificationsCount(){return this.notifications.filter(e=>!e.leido).length}get totalNotificationsCount(){return this.notifications.length}constructor(e,n,i){this.dateService=e,this.router=n,this.authService=i,this.showMonthModal=!1,this.years=[],this.months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.selectedYear=null,this.selectedMonth=null,this.currentYear="",this.currentMonth="",this.currentRoute="",this.userName="",this.notifications=[],this.unreadCount=0,this.showNotifications=!1,this.isLoadingNotifications=!1,this.showMarkAllReadModal=!1,this.showDeleteAllModal=!1,this.showDeleteSingleModal=!1,this.notificationToDelete=null}ngOnInit(){this.generateYearRange(2025,2050);const e=new Date,n=e.getFullYear(),i=e.getMonth(),a=this.dateService.getSelectedYear(),r=this.dateService.getSelectedMonth();a&&r?(this.selectedYear=parseInt(a),this.selectedMonth=parseInt(r)-1,this.dateService.setDate(this.selectedYear,this.selectedMonth+1)):(this.selectedYear=n,this.selectedMonth=i,this.dateService.setDate(n,i+1)),this.dateSubscription=this.dateService.selectedDate$.subscribe(({year:l,month:h})=>{this.currentYear=l??"",this.currentMonth=h??""}),this.routeSubscription=this.router.events.subscribe(l=>{if(l instanceof u.wF){const h=l.urlAfterRedirects.split("/");this.currentRoute=this.mapRouteToTitle(h[h.length-1]),this.showNotifications=!1,this.showMarkAllReadModal=!1,this.showDeleteAllModal=!1,this.showDeleteSingleModal=!1,this.notificationToDelete=null}}),this.loadNotifications(),setInterval(()=>{this.cleanOldNotifications()},36e5)}ngOnDestroy(){this.dateSubscription?.unsubscribe(),this.routeSubscription?.unsubscribe(),this.cleanupModals()}cleanupModals(){this.showNotifications=!1,this.showMarkAllReadModal=!1,this.showDeleteAllModal=!1,this.showDeleteSingleModal=!1,this.notificationToDelete=null}generateYearRange(e,n){this.years=[];for(let i=e;i<=n;i++)this.years.push(i)}openMonthModal(){this.showMonthModal=!0}closeMonthModal(){this.showMonthModal=!1}clearYearSelection(){this.selectedYear=null}selectYear(e){this.selectedYear=e}selectMonth(e){this.selectedMonth=e,this.showMonthModal=!1;const n=e+1;this.dateService.setDate(this.selectedYear,n),console.log("Fecha seleccionada \u2192",this.selectedYear,n);const a=this.authService.getUser()?.localId;if(a){const r=this.selectedYear.toString(),l=n.toString().padStart(2,"0");this.dateService.notifyMonthChange(a,r,l)}}mapRouteToTitle(e){switch(e){case"expense":return"Gastos";case"income":return"Ingresos";case"wallet":return"Cartera";case"saving":return"Ahorros";case"loan":return"Pr\xe9stamos";case"debt":return"Deudas";case"home":return"Inicio";default:return this.capitalize(e)}}capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}logout(){this.authService.logout(),this.router.navigate(["/auth/login"])}toggleNotifications(){this.showNotifications=!this.showNotifications,this.showNotifications&&this.loadNotifications()}loadNotifications(){const n=this.authService.getUser()?.localId;n&&(this.isLoadingNotifications=!0,this.authService.getUserNotifications(n).subscribe({next:i=>{i&&(this.notifications=Object.entries(i).map(([a,r])=>({id:a,...r})),this.unreadCount=this.notifications.filter(a=>!a.leido).length),this.isLoadingNotifications=!1},error:i=>{console.error("Error al cargar notificaciones:",i),this.isLoadingNotifications=!1}}))}markAsRead(e){const i=this.authService.getUser()?.localId;i&&this.authService.markNotificationAsRead(i,e).subscribe(()=>{this.notifications=this.notifications.map(a=>(a.id===e&&(a.leido=!0),a)),this.unreadCount=this.notifications.filter(a=>!a.leido).length})}markAllAsRead(){0!==this.notifications.filter(n=>!n.leido).length&&(this.showMarkAllReadModal=!0)}confirmMarkAllAsRead(){const n=this.authService.getUser()?.localId;if(!n)return;const a=this.notifications.filter(r=>!r.leido).map(r=>this.authService.markNotificationAsRead(n,r.id));Promise.all(a).then(()=>{this.notifications=this.notifications.map(r=>({...r,leido:!0})),this.unreadCount=0,this.showMarkAllReadModal=!1})}deleteNotification(e){const n=this.notifications.find(i=>i.id===e);n&&(this.notificationToDelete=n,this.showDeleteSingleModal=!0)}confirmDeleteSingleNotification(){const n=this.authService.getUser()?.localId;!n||!this.notificationToDelete||this.authService.deleteNotification(n,this.notificationToDelete.id).subscribe(()=>{this.notifications=this.notifications.filter(i=>i.id!==this.notificationToDelete.id),this.unreadCount=this.notifications.filter(i=>!i.leido).length,this.showDeleteSingleModal=!1,this.notificationToDelete=null})}deleteAllNotifications(){0!==this.notifications.length&&(this.showDeleteAllModal=!0)}confirmDeleteAllNotifications(){const n=this.authService.getUser()?.localId;n&&this.authService.deleteAllNotifications(n).subscribe(()=>{this.notifications=[],this.unreadCount=0,this.showDeleteAllModal=!1})}cleanOldNotifications(){const n=this.authService.getUser()?.localId;n&&this.authService.cleanOldNotifications(n).subscribe(()=>{this.loadNotifications()})}onDocumentClick(e){const n=e.target,i=document.querySelector("[data-notification-button]"),a=document.querySelector("[data-notification-dropdown]");i&&a&&!i.contains(n)&&!a.contains(n)&&(this.showNotifications=!1),document.querySelectorAll("[data-modal]").forEach(l=>{l.contains(n)||(this.showMarkAllReadModal&&"mark-all-read"===l.getAttribute("data-modal")&&this.closeMarkAllReadModal(),this.showDeleteAllModal&&"delete-all"===l.getAttribute("data-modal")&&this.closeDeleteAllModal(),this.showDeleteSingleModal&&"delete-single"===l.getAttribute("data-modal")&&this.closeDeleteSingleModal())})}onKeyDown(e){"Escape"===e.key&&(this.showNotifications&&(this.showNotifications=!1),this.showMarkAllReadModal&&this.closeMarkAllReadModal(),this.showDeleteAllModal&&this.closeDeleteAllModal(),this.showDeleteSingleModal&&this.closeDeleteSingleModal())}closeMarkAllReadModal(){this.showMarkAllReadModal=!1}closeDeleteAllModal(){this.showDeleteAllModal=!1}closeDeleteSingleModal(){this.showDeleteSingleModal=!1,this.notificationToDelete=null}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(m.k),t.rXU(u.Ix),t.rXU(p.u))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-header"]],hostBindings:function(n,i){1&n&&t.bIt("click",function(r){return i.onDocumentClick(r)},!1,t.EBC)("keydown",function(r){return i.onKeyDown(r)},!1,t.EBC)},standalone:!0,features:[t.aNF],decls:25,vars:9,consts:[[1,"flex","flex-col","md:flex-row","md:justify-between","md:items-center","gap-6"],[1,"capitalize","flex-1","flex","items-center","gap-3"],["src","assets/img/logoIcono.png","alt","Mi Cartera Logo",1,"h-20","w-20","transition","duration-300"],[1,"text-sm","font-semibold","text-gray-600","mb-1"],[1,"tracking-normal","text-base","font-semibold","leading-relaxed","text-gray-900"],[1,"flex","flex-wrap","justify-end","gap-3","items-center","w-full","md:w-auto"],[1,"bg-blue-500","text-white","px-3","py-1","rounded-md","hover:bg-blue-600","transition",3,"click"],[1,"relative"],["data-notification-button","",1,"relative","p-2","rounded-full","hover:bg-sky-100","transition",3,"click"],[1,"material-icons","text-gray-700"],["class","absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1",4,"ngIf"],["data-notification-dropdown","","class","absolute right-0 mt-2 w-80 bg-white border rounded shadow-lg z-50 max-h-96 overflow-auto",4,"ngIf"],[1,"flex","items-center","bg-slate-500","text-white","px-3","py-1","rounded-md","hover:bg-slate-600","transition",3,"click"],[1,"material-icons","mr-1"],["class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","bg-red-500","text-white","text-xs","rounded-full","px-1"],["data-notification-dropdown","",1,"absolute","right-0","mt-2","w-80","bg-white","border","rounded","shadow-lg","z-50","max-h-96","overflow-auto"],[1,"p-3","bg-gray-50","border-b","flex","justify-between","items-center"],[1,"text-sm","font-semibold","text-gray-700"],[1,"flex","gap-2"],["class","text-xs text-sky-600 hover:text-sky-800 font-medium",3,"click",4,"ngIf"],["class","text-xs text-red-600 hover:text-red-800 font-medium",3,"click",4,"ngIf"],["class","p-4 text-center",4,"ngIf"],[4,"ngIf"],["class","p-4 text-sm text-gray-500 text-center",4,"ngIf"],[1,"text-xs","text-sky-600","hover:text-sky-800","font-medium",3,"click"],[1,"text-xs","text-red-600","hover:text-red-800","font-medium",3,"click"],[1,"p-4","text-center"],[1,"inline-block","animate-spin","rounded-full","h-6","w-6","border-b-2","border-sky-600"],[1,"text-sm","text-gray-500","mt-2"],["class","p-4 border-b hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"p-4","border-b","hover:bg-gray-50","transition-colors"],[1,"flex","justify-between","items-start"],[1,"flex-1","cursor-pointer",3,"click"],[1,"text-sm","text-gray-700"],[1,"text-xs","text-gray-400","mt-1"],[1,"ml-2","text-gray-400","hover:text-red-600","transition-colors","p-1",3,"click"],[1,"material-icons","text-sm"],[1,"p-4","text-sm","text-gray-500","text-center"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50","z-50"],[1,"bg-white","text-gray-800","p-6","rounded-lg","shadow-lg","w-96","max-h-[90vh]","overflow-y-auto"],[1,"text-lg","font-semibold","mb-4","text-center"],["class","max-h-60 overflow-y-auto mb-4 px-1 py-2 border rounded-md space-y-2",4,"ngIf"],[1,"mt-4","flex","justify-end"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg","hover:bg-red-600",3,"click"],[1,"max-h-60","overflow-y-auto","mb-4","px-1","py-2","border","rounded-md","space-y-2"],["class","w-full px-4 py-2 rounded-lg bg-gray-200 hover:bg-sky-500 text-gray-800 hover:text-white transition text-center",3,"click",4,"ngFor","ngForOf"],[1,"w-full","px-4","py-2","rounded-lg","bg-gray-200","hover:bg-sky-500","text-gray-800","hover:text-white","transition","text-center",3,"click"],[1,"flex","justify-center","mb-4"],[1,"px-4","py-2","bg-sky-100","text-sky-800","font-medium","rounded-md","shadow-sm","hover:bg-sky-200","transition",3,"click"],[1,"grid","grid-cols-3","gap-2","mb-4"],["class","p-2 rounded-lg bg-gray-200 hover:bg-sky-500 text-gray-800 hover:text-white transition",3,"bg-sky-500","text-sky-700","click",4,"ngFor","ngForOf"],[1,"p-2","rounded-lg","bg-gray-200","hover:bg-sky-500","text-gray-800","hover:text-white","transition",3,"click"],["data-modal","mark-all-read",1,"bg-white","p-6","rounded-lg","shadow-lg","max-w-sm","w-full","relative"],[1,"w-16","h-16","flex","items-center","justify-center","bg-sky-100","rounded-full"],[1,"material-icons","text-sky-600","text-3xl"],[1,"text-xl","font-bold","text-gray-800","mb-4","text-center"],[1,"text-gray-600","text-center","mb-6"],[1,"font-semibold","text-sky-600"],[1,"flex","gap-3"],[1,"flex-1","px-4","py-2","border","border-gray-300","rounded-md","bg-white","text-gray-700","hover:bg-gray-50","transition",3,"click"],[1,"flex-1","px-4","py-2","bg-sky-600","text-white","rounded-md","hover:bg-sky-700","transition",3,"click"],["data-modal","delete-all",1,"bg-white","p-6","rounded-lg","shadow-lg","max-w-sm","w-full","relative"],[1,"w-16","h-16","flex","items-center","justify-center","bg-red-100","rounded-full"],[1,"material-icons","text-red-600","text-3xl"],[1,"font-semibold","text-red-600"],[1,"text-sm","text-gray-500"],[1,"flex-1","px-4","py-2","bg-red-600","text-white","rounded-md","hover:bg-red-700","transition",3,"click"],["data-modal","delete-single",1,"bg-white","p-6","rounded-lg","shadow-lg","max-w-sm","w-full","relative"],[1,"w-16","h-16","flex","items-center","justify-center","bg-orange-100","rounded-full"],[1,"material-icons","text-orange-600","text-3xl"],[1,"font-semibold","text-gray-800","bg-gray-100","p-3","rounded-md","block","text-sm"],[1,"flex-1","px-4","py-2","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","transition",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"img",2),t.j41(3,"div")(4,"p",3),t.EFF(5),t.k0s(),t.j41(6,"h6",4),t.EFF(7),t.k0s()()(),t.j41(8,"div",5)(9,"button",6),t.bIt("click",function(){return i.openMonthModal()}),t.EFF(10," Cambiar Mes "),t.k0s(),t.j41(11,"div",7)(12,"button",8),t.bIt("click",function(){return i.toggleNotifications()}),t.j41(13,"span",9),t.EFF(14,"notifications"),t.k0s(),t.DNE(15,b,2,1,"span",10),t.k0s(),t.DNE(16,j,10,5,"div",11),t.k0s(),t.j41(17,"button",12),t.bIt("click",function(){return i.logout()}),t.j41(18,"span",13),t.EFF(19,"logout"),t.k0s(),t.EFF(20," Salir "),t.k0s()()(),t.DNE(21,C,9,3,"div",14)(22,E,19,1,"div",14)(23,I,25,2,"div",14)(24,N,23,1,"div",14)),2&n&&(t.R7$(5),t.Lme(" Fecha actual: ",i.currentYear,"/",i.currentMonth," "),t.R7$(2),t.SpI(" ",i.currentRoute||"Maneja tu Dinero con Confianza"," "),t.R7$(8),t.Y8G("ngIf",i.unreadCount>0),t.R7$(),t.Y8G("ngIf",i.showNotifications),t.R7$(5),t.Y8G("ngIf",i.showMonthModal),t.R7$(),t.Y8G("ngIf",i.showMarkAllReadModal),t.R7$(),t.Y8G("ngIf",i.showDeleteAllModal),t.R7$(),t.Y8G("ngIf",i.showDeleteSingleModal))},dependencies:[c.MD,c.Sq,c.bT,c.vh]})}}return o})();function D(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",34),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleSidebar())}),t.qSk(),t.j41(1,"svg",35),t.nrm(2,"path",36),t.k0s()()}}let T=(()=>{class o{constructor(e,n,i){this.platformId=e,this.authService=n,this.router=i,this.isSidebarOpen=!1,this.isMobileScreen=!1,(0,c.UE)(this.platformId)&&this.checkScreenSize()}toggleSidebar(){this.isMobile()&&(this.isSidebarOpen=!this.isSidebarOpen,console.log("Sidebar status:",this.isSidebarOpen))}isMobile(){return this.isMobileScreen}onResize(){(0,c.UE)(this.platformId)&&this.checkScreenSize()}checkScreenSize(){this.isMobileScreen=window.innerWidth<1024}closeSidebar(){this.isMobile()&&(this.isSidebarOpen=!1)}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(t.Agw),t.rXU(p.u),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-sidebar"]],hostBindings:function(n,i){1&n&&t.bIt("resize",function(r){return i.onResize(r)},!1,t.tSv)},standalone:!0,features:[t.aNF],decls:73,vars:3,consts:[["class","fixed top-4 left-4 z-50 bg-gray-800 text-white p-2 rounded-lg xl:hidden",3,"click",4,"ngIf"],[1,"bg-slate-800","fixed","inset-0","z-50","my-4","ml-4","h-[calc(100vh-32px)]","w-72","rounded-xl","transition-all","duration-300","ease-in-out","shadow-xl"],[1,"relative","border-b","border-white/20"],[1,"flex","items-center","gap-4","py-6","px-8"],[1,"block","antialiased","tracking-normal","font-sans","text-base","font-semibold","leading-relaxed","text-white"],[1,"middle","none","font-sans","font-medium","text-center","uppercase","transition-all","disabled:opacity-50","disabled:shadow-none","disabled:pointer-events-none","w-8","max-w-[32px]","h-8","max-h-[32px]","rounded-lg","text-xs","text-white","hover:bg-white/10","active:bg-white/30","absolute","right-0","top-0","grid","rounded-br-none","rounded-tl-none","xl:hidden",3,"click"],[1,"absolute","top-1/2","left-1/2","transform","-translate-y-1/2","-translate-x-1/2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor","aria-hidden","true",1,"h-5","w-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"m-4"],[1,"mb-4","flex","flex-col","gap-1"],["routerLink","/app/home",3,"click"],["routerLinkActive","bg-sky-700 shadow-md shadow-blue-500/20 hover:shadow-lg hover:shadow-blue-500/40 active:opacity-[0.85]","type","button",1,"middle","none","font-sans","font-bold","center","transition-all","disabled:opacity-50","disabled:shadow-none","disabled:pointer-events-none","text-xs","py-3","rounded-lg","text-white","hover:bg-white/10","active:bg-white/30","flex","w-full","items-center","gap-4","px-4","capitalize"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor","aria-hidden","true",1,"w-5","h-5","text-inherit"],["d","M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"],["d","M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z"],[1,"block","antialiased","font-sans","text-base","leading-relaxed","text-inherit","font-medium","capitalize"],["routerLink","/app/expense",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["d","M5 3a1 1 0 000 2h14a1 1 0 100-2H5zM3 7h18v12H3V7zm2 2v8h14V9H5zm5 1a1 1 0 011 1v4a1 1 0 01-2 0v-4a1 1 0 011-1zm6 0a1 1 0 011 1v4a1 1 0 01-2 0v-4a1 1 0 011-1z"],["routerLink","/app/income",3,"click"],["fill-rule","evenodd","d","M12 2.25a9.75 9.75 0 100 19.5 9.75 9.75 0 000-19.5zM7.5 12a4.5 4.5 0 019 0 4.5 4.5 0 01-9 0zM12 9a3 3 0 110 6 3 3 0 010-6z","clip-rule","evenodd"],["routerLink","/app/wallet",3,"click"],["fill-rule","evenodd","d","M4.5 5.25a2.25 2.25 0 012.25-2.25h10.5A2.25 2.25 0 0119.5 5.25v2.25H4.5V5.25zM3 9.75a.75.75 0 01.75-.75h16.5a.75.75 0 01.75.75V18a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18V9.75z","clip-rule","evenodd"],["routerLink","/app/saving",3,"click"],["fill-rule","evenodd","d","M12 2.25a9.75 9.75 0 100 19.5 9.75 9.75 0 000-19.5zM6 10.5h12a.75.75 0 010 1.5H6a.75.75 0 010-1.5zM7.5 15h9a.75.75 0 010 1.5h-9a.75.75 0 010-1.5z","clip-rule","evenodd"],["routerLink","/app/loan",3,"click"],["d","M3 5h18a2 2 0 012 2v10a2 2 0 01-2 2H3a2 2 0 01-2-2V7a2 2 0 012-2zm0 2v2h18V7H3zm0 4v6h18v-6H3zm2 2h2v2H5v-2z"],["routerLink","/app/debt",3,"click"],["fill-rule","evenodd","d","M2.25 12a9.75 9.75 0 1019.5 0 9.75 9.75 0 00-19.5 0zM13.5 9.75a.75.75 0 00-1.5 0V12H9.75a.75.75 0 000 1.5H12v2.25a.75.75 0 001.5 0V13.5h2.25a.75.75 0 000-1.5H13.5V9.75z","clip-rule","evenodd"],[1,"mx-3.5","mt-4","mb-2"],[1,"block","antialiased","font-sans","text-sm","leading-normal","text-white","font-black","uppercase","opacity-75"],["type","button",1,"middle","none","font-sans","font-bold","center","transition-all","disabled:opacity-50","disabled:shadow-none","disabled:pointer-events-none","text-xs","py-3","rounded-lg","text-white","hover:bg-white/10","active:bg-white/30","w-full","flex","items-center","gap-4","px-4","capitalize",3,"click"],["fill-rule","evenodd","d","M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm10.72 4.72a.75.75 0 011.06 0l3 3a.75.75 0 010 1.06l-3 3a.75.75 0 11-1.06-1.06l1.72-1.72H9a.75.75 0 010-1.5h10.94l-1.72-1.72a.75.75 0 010-1.06z","clip-rule","evenodd"],[1,"fixed","top-4","left-4","z-50","bg-gray-800","text-white","p-2","rounded-lg","xl:hidden",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4 6h16M4 12h16m-7 6h7"]],template:function(n,i){1&n&&(t.DNE(0,D,3,0,"button",0),t.j41(1,"aside",1)(2,"div",2)(3,"a",3)(4,"h6",4),t.EFF(5," Mi Cartera "),t.k0s()(),t.j41(6,"button",5),t.bIt("click",function(){return i.toggleSidebar()}),t.j41(7,"span",6),t.qSk(),t.j41(8,"svg",7),t.nrm(9,"path",8),t.k0s()()()(),t.joV(),t.j41(10,"div",9)(11,"ul",10)(12,"li")(13,"a",11),t.bIt("click",function(){return i.closeSidebar()}),t.j41(14,"button",12),t.qSk(),t.j41(15,"svg",13),t.nrm(16,"path",14)(17,"path",15),t.k0s(),t.joV(),t.j41(18,"p",16),t.EFF(19,"Inicio "),t.k0s()()()(),t.j41(20,"li")(21,"a",17),t.bIt("click",function(){return i.closeSidebar()}),t.j41(22,"button",12),t.qSk(),t.j41(23,"svg",18),t.nrm(24,"path",19),t.k0s(),t.joV(),t.j41(25,"p",16),t.EFF(26,"Tabla de Gastos"),t.k0s()()()(),t.j41(27,"li")(28,"a",20),t.bIt("click",function(){return i.closeSidebar()}),t.j41(29,"button",12),t.qSk(),t.j41(30,"svg",18),t.nrm(31,"path",21),t.k0s(),t.joV(),t.j41(32,"p",16),t.EFF(33,"Tabla de Ingresos"),t.k0s()()()(),t.j41(34,"li")(35,"a",22),t.bIt("click",function(){return i.closeSidebar()}),t.j41(36,"button",12),t.qSk(),t.j41(37,"svg",18),t.nrm(38,"path",23),t.k0s(),t.joV(),t.j41(39,"p",16),t.EFF(40,"Mi Cartera"),t.k0s()()()(),t.j41(41,"li")(42,"a",24),t.bIt("click",function(){return i.closeSidebar()}),t.j41(43,"button",12),t.qSk(),t.j41(44,"svg",18),t.nrm(45,"path",25),t.k0s(),t.joV(),t.j41(46,"p",16),t.EFF(47,"Mis Ahorros"),t.k0s()()()(),t.nrm(48,"br"),t.j41(49,"li")(50,"a",26),t.bIt("click",function(){return i.closeSidebar()}),t.j41(51,"button",12),t.qSk(),t.j41(52,"svg",18),t.nrm(53,"path",27),t.k0s(),t.joV(),t.j41(54,"p",16),t.EFF(55," Prestamos"),t.k0s()()()(),t.j41(56,"li")(57,"a",28),t.bIt("click",function(){return i.closeSidebar()}),t.j41(58,"button",12),t.qSk(),t.j41(59,"svg",18),t.nrm(60,"path",29),t.k0s(),t.joV(),t.j41(61,"p",16),t.EFF(62,"Deudas "),t.k0s()()()()(),t.j41(63,"ul",10)(64,"li",30)(65,"p",31),t.EFF(66,"Cuenta "),t.k0s()(),t.j41(67,"li")(68,"button",32),t.bIt("click",function(){return i.logout()}),t.qSk(),t.j41(69,"svg",13),t.nrm(70,"path",33),t.k0s(),t.joV(),t.j41(71,"p",16),t.EFF(72,"Salir"),t.k0s()()()()()()),2&n&&(t.Y8G("ngIf",i.isMobile()),t.R7$(),t.AVh("hidden",!i.isSidebarOpen&&i.isMobile()))},dependencies:[c.MD,c.bT,u.Wk,u.wQ]})}}return o})(),A=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-footer"]],standalone:!0,features:[t.aNF],decls:15,vars:0,consts:[[1,"py-2"],[1,"flex","w-full","flex-wrap","items-center","justify-center","gap-6","px-2","md:justify-between"],[1,"block","antialiased","font-sans","text-sm","leading-normal","font-normal","text-inherit"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor","aria-hidden","true",1,"-mt-0.5","inline-block","h-3.5","w-3.5"],[1,"flex","items-center","gap-4"],["href","https://juanzarta.github.io/GoldenPanda/","target","_blank",1,"block","antialiased","font-sans","text-sm","leading-normal","py-0.5","px-1","font-normal","text-inherit","transition-colors","hover:text-blue-500"],["href","https://api.whatsapp.com/send/?phone=573128622945&text&type=phone_number&app_absent=0","target","_blank",1,"block","antialiased","font-sans","text-sm","leading-normal","py-0.5","px-1","font-normal","text-inherit","transition-colors","hover:text-blue-500"],["href","https://github.com/JUANZARTA","target","_blank",1,"block","antialiased","font-sans","text-sm","leading-normal","py-0.5","px-1","font-normal","text-inherit","transition-colors","hover:text-blue-500"]],template:function(n,i){1&n&&(t.j41(0,"footer",0)(1,"div",1)(2,"p",2),t.EFF(3,"\xa9 2025, Created by Juan camilo Zarta "),t.qSk(),t.nrm(4,"svg",3),t.k0s(),t.joV(),t.j41(5,"ul",4)(6,"li")(7,"a",5),t.EFF(8,"Golden Panda"),t.k0s()(),t.j41(9,"li")(10,"a",6),t.EFF(11,"About Us"),t.k0s()(),t.j41(12,"li")(13,"a",7),t.EFF(14,"GitHub"),t.k0s()()()()())}})}}return o})(),H=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-layout"]],standalone:!0,features:[t.aNF],decls:9,vars:0,consts:[[1,"min-h-screen","bg-gray-50/50"],[1,"p-4","xl:ml-80"],[1,"block","w-full","max-w-full","bg-transparent","text-white","shadow-none","rounded-xl","transition-all","px-0","py-1"],[1,"mt-12"],[1,"text-blue-gray-600"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.nrm(1,"app-sidebar"),t.j41(2,"div",1)(3,"nav",2),t.nrm(4,"app-header"),t.k0s(),t.j41(5,"div",3),t.nrm(6,"router-outlet"),t.k0s(),t.j41(7,"div",4),t.nrm(8,"app-footer"),t.k0s()()())},dependencies:[R,T,A,u.n3]})}}return o})()}}]);